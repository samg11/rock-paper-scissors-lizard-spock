"use strict";const icons=document.querySelectorAll(".icon");const rock=document.getElementById('rock');const paper=document.getElementById('paper');const scissors=document.getElementById('scissors');const lizard=document.getElementById('lizard');const spock=document.getElementById('spock');const computerChoiceDoc=document.getElementById('computerChoice');const userChoiceDoc=document.getElementById('userChoice');const winnerDoc=document.getElementById('winner');const iconDict=[rock,paper,scissors,lizard,spock];let username="user";let rand;let winner;let loser;let tie;let winnerMove;let loserMove;let winnerInfo;let computerChoiceInfo;let userChoiceInfo;let computerChoice;let results;const cap=(str)=>{return str.charAt(0).toUpperCase()+str.slice(1);};const getWinner=(userChoice,computerChoice)=>{winner="";tie=false;winnerMove="";loserMove="";console.log({userChoice,computerChoice});switch(userChoice+computerChoice){case"rockrock":winner="tie";break;case"paperpaper":winner="tie";break;case"scissorsscissors":winner="tie";break;case"lizardlizard":winner="tie";break;case"spockspock":winner="tie";break;case"rocklizard":winner=username;break;case"rockscissors":winner=username;break;case"lizardspock":winner=username;break;case"lizardpaper":winner=username;break;case"spockscissors":winner=username;break;case"spockrock":winner=username;break;case"scissorspaper":winner=username;break;case"scissorslizard":winner=username;break;case"paperspock":winner=username;break;case"paperrock":winner=username;break;default:winner="computer";}
if(winner==username){loser="computer";winnerMove=userChoice;loserMove=computerChoice;}
else if(winner=="computer"){loser=username;winnerMove=computerChoice;loserMove=userChoice;}
else if(winner=="tie"){loser="tie";tie=true;}
return{userChoice,computerChoice,winner,loser,tie,winnerMove,loserMove};};const chooseComputerMove=()=>{rand=Math.floor(Math.random()*5);switch(rand){case 0:return"rock";case 1:return"paper";case 2:return"scissors";case 3:return"lizard";case 4:return"spock";}
return"error";};const handleChoice=(id)=>{computerChoice=chooseComputerMove();results=getWinner(id,computerChoice);if(results.tie){winnerInfo="Tie!";}
else{winnerInfo=`${cap(results.winner)+' '}wins!${'\n'+cap(results.winnerMove)+' '}beats ${cap(results.loserMove)}`;}
userChoiceInfo=`${cap(username)+' '}chose ${results.userChoice}`;computerChoiceInfo=`The computer chose ${results.computerChoice}`;computerChoiceDoc.innerText=computerChoiceInfo;userChoiceDoc.innerText=userChoiceInfo;winnerDoc.innerText=winnerInfo;};for(let icon in iconDict){icons[icon].addEventListener("click",(e)=>{console.table([e.path[0].id,e.path[1].id]);if(e.path[1].id==""){handleChoice(e.path[0].id);}
else{handleChoice(e.path[1].id);}});}